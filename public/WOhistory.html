<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Workout Journal</title>
  <meta name="description" content="Workout Journal App">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="stylesheets/style.css">
  <!-- <script src="api.js"></script> -->
  
</head>

  <body>
    <h1>Workout Journal</h1>
    <form>
      <textarea name="formNoteText" id="formNoteText" cols="50" rows="8" maxlength="300"></textarea>
      <select name="formColor" id="formColor">
        <option value="none">Select Intensity</option>
        <option value="red">Red-Intense</option>
        <option value="green">Green-Great</option>
        <option value="blue">Blue-Good</option>
        <option value="yellow">Yellow-Ok</option>
      </select>
      <button id="formAddButton" class="btn">Add note</button>
    </form>
    
    <div id="notes">
      <button onclick="myFunction()">Edit Notes</button>
      <button onclick="save()">Save Notes</button>
    </div>
    <div id="result"></div>
    <script src="app.js"></script>

    
    <script>
      function myFunction() {
        document.getElementById("notes").contentEditable = true;
      }
    </script>



      <script>
        function check_web_storage_support() {
          if(typeof(Storage) !== "undefined") {
              return(true);
          }
          else {
              alert("Web storage unsupported!");
              return(false);
          }
          console.log(check_web_storage_support)
        }

        let notesList = [];



        function save() {
          notesList = [];
          if(check_web_storage_support() == true) {
            var notes = document.querySelectorAll(".note");

            notes.forEach(function(note){
              notesList.push(note.innerText)
            })
            console.log(notesList);
            if(notesList.length >= 1) {
              localStorage.setItem("notes", notesList);
              alert("Journal Saved");
            }
            else {
              alert("Nothing to save");
            }
          }
          console.log(save);
        }
      </script>

      <script>
      function addKeyboardDB(keyboard, callback){
      var sql = "INSERT INTO workout(exercise) VALUES($1)";
      var params = [workout.exercise, "helloWorld1"];
        pool.query(sql, params, function(error, db_results){
            if(error){
                throw error;
            } else {
                var results = {
                    success:true,
                    list:db_results.rows
                };
                callback(null, results);
            }
        })
      }
      </script>

  </body>

</html>
